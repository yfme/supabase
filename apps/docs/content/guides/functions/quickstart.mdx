---
id: 'functions-quickstart'
title: '使用 Supabase 开发 Edge Functions'
description: '在 Supabase 仪表板上开始使用 Edge Functions。'
subtitle: '在 Supabase 仪表板上开始使用 Edge Functions。'
---

在本指南中，我们将介绍如何在 Supabase 仪表板上创建基本的 Edge Function，并使用 Supabase CLI 访问它。

## 从仪表板部署

转到您的项目 > Edge Functions > Deploy a new function > Via Editor

<Image
  alt="从仪表板部署函数"
  src={{
    light: '/docs/img/guides/functions/dashboard/deploy-function--light.png',
    dark: '/docs/img/guides/functions/dashboard/deploy-function--light.png',
  }}
  zoomable
/>

这将为您搭建一个新函数。您可以从模板中选择一些针对常见用例的预定义函数。

<Image
  alt="通过仪表板编辑器搭建函数"
  src={{
    light: '/docs/img/guides/functions/dashboard/scaffold-function--light.png',
    dark: '/docs/img/guides/functions/dashboard/scaffold-function--light.png',
  }}
  zoomable
/>

根据需要修改函数，命名它，然后点击 `Deploy function`。

您的函数现在已激活。导航到函数的详细信息页面，然后点击测试按钮。

您可以通过提供预期的 HTTP 方法、标头、查询参数和请求正文来测试您的函数。您还可以更改传递的授权令牌（例如，匿名密钥或用户密钥）。

<div style={{ width: '60%', position: 'relative', aspectRatio: 'auto' }}>
  <Image
    alt="提供请求正文来测试您的函数"
    src={{
      light: '/docs/img/guides/functions/dashboard/test-request-body--light.png',
      dark: '/docs/img/guides/functions/dashboard/test-request-body--light.png',
    }}
    zoomable
  />
</div>

## 通过 Supabase CLI 访问已部署函数

<Admonition type="tip" label="未安装 CLI？">

查看 [CLI 文档](/docs/guides/cli) 了解如何在本地机器上安装 Supabase CLI。

</Admonition>

现在您的函数已部署，您可以从本地开发环境访问它。
方法如下：

1. **将您的项目**链接到本地环境。

   您可以在 Supabase 仪表板的 URL 或项目设置中找到项目参考 ID。

   ```bash
   supabase link --project-ref your-project-ref
   ```

2. **列出链接的 Supabase 项目中的所有函数**。

   ```bash
   supabase functions list
   ```

3. **访问**您想要处理的特定函数。

   ```bash
   supabase functions download function-name
   ```

4. **根据需要对函数代码进行本地编辑**。

5. **在重新部署之前在本地运行您的函数**。

   ```bash
   supabase functions serve function-name
   ```

6. **准备好更改后重新部署**。

   ```bash
   supabase functions deploy function-name
   ```

{/* supa-mdx-lint-disable-next-line Rule001HeadingCase */}

## 通过助手部署

您还可以利用 Supabase 助手来帮助您编写和部署 edge functions。

转到您的项目 > Edge Functions > 点击助手图标以使用 Supabase 助手创建

<Image
  alt="打开 Supabase 助手"
  src={{
    light: '/docs/img/guides/functions/dashboard/create-with-assistant--light.png',
    dark: '/docs/img/guides/functions/dashboard/create-with-assistant--light.png',
  }}
  zoomable
/>

这会打开一个助手窗口，其中预填了用于生成 edge functions 的提示。
写下您的 Edge Function 需求，让 Supabase 助手完成其余工作。

<div style={{ width: '75%', position: 'relative', aspectRatio: 'auto' }}>
  <Image
    alt="使用助手生成函数"
    src={{
      light: '/docs/img/guides/functions/dashboard/assistant-function-gen--light.png',
      dark: '/docs/img/guides/functions/dashboard/assistant-function-gen--light.png',
    }}
    zoomable
  />
</div>

点击 Deploy，助手将自动部署您的函数。

此函数需要 OpenAI API 密钥。您可以在 Edge Functions 密钥页面添加密钥，或向助手寻求帮助。

1. 导航到您的 Edge Functions > Secrets 页面。
2. 查找添加环境变量的选项。
3. 添加一个新的环境变量，键为 `OPENAI_API_KEY`，值设置为您实际的 OpenAI API 密钥。

设置此环境变量后，您的 edge functions 将能够安全地访问 OPENAI_API_KEY，而无需将其硬编码到函数代码中。这是保持敏感信息安全的最佳实践。

设置好变量后，您可以通过仪表板发送请求进行测试。导航到函数的详细信息页面，然后点击测试按钮。然后提供您的函数期望的请求正文。

<div style={{ width: '60%', position: 'relative', aspectRatio: 'auto' }}>
  <Image
    alt="提供请求正文来测试您的函数"
    src={{
      light: '/docs/img/guides/functions/dashboard/test-request-body--light.png',
      dark: '/docs/img/guides/functions/dashboard/test-request-body--light.png',
    }}
    zoomable
  />
</div>

## 从仪表板编辑函数

<Admonition type="caution" label="请注意：目前编辑没有版本控制">

仪表板的 Edge Function 编辑器目前不支持版本控制或回滚。我们建议仅将其用于快速测试和原型设计。当您准备进入生产环境时，请将 Edge Functions 代码存储在源代码存储库（例如 git）中，并使用 [CI 集成](https://supabase.com/docs/guides/functions/cicd-workflow) 之一进行部署。

</Admonition>

1. 从函数页面，点击您要编辑的函数。从函数页面，点击代码选项卡。

2. 这将在仪表板中打开一个代码编辑器，您可以在其中查看已部署函数的代码。

3. 根据需要修改代码，然后点击 Deploy updates。这将用新编辑的函数代码覆盖现有部署。

## 下一步

查看[本地开发](/docs/guides/functions/local-quickstart)指南，了解有关使用 Edge Functions 的更多详情。

继续阅读一些[常见开发技巧](/docs/guides/functions/development-tips)。